; BeamLink LED Toggle Template
; Starter template for BeamLink projects with NimBLE support

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
board_build.filesystem = spiffs
upload_port = COM7

; Enable C++17 for lambda support
build_unflags = -std=gnu++11
build_flags = 
    -std=gnu++17
    -I include
    -DCONFIG_BT_NIMBLE_MAX_CONNECTIONS=1
    -DCONFIG_BT_NIMBLE_MAX_BONDS=3
    -DCONFIG_BT_NIMBLE_MAX_CCCDS=8
    -DCONFIG_BT_NIMBLE_ROLE_CENTRAL_DISABLED=0
    -DCONFIG_BT_NIMBLE_ROLE_PERIPHERAL_DISABLED=0
    -DCONFIG_BT_NIMBLE_ROLE_BROADCASTER_DISABLED=0
    -DCONFIG_BT_NIMBLE_ROLE_OBSERVER_DISABLED=0

; Use local lib directory to avoid dependency issues
lib_deps = 
    h2zero/NimBLE-Arduino@1.4.0

; Logger feature toggles (uncomment to change behavior)
; build_flags =
;   -D BEAMLOG_DISABLE_DEBUG
;   -D BEAMLOG_DISABLE_COLOR
;   -D BEAMLOG_DISABLE_EMOJI

